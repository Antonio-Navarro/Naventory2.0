<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:sec="http://www.springframework.org/security/tags"
	template="../WEB-INF/templates/templateApp.xhtml">
	<ui:define name="title">
		<title>Naventory | Gestión de inventarios</title>
	</ui:define>
	<ui:define name="head">
	</ui:define>
	<ui:define name="body">
		<div class="row">
			<div class="col-lg-12">
				<h1 class="page-header">Dashboard</h1>
			</div>
		</div>
		<!-- top tiles -->
		<div class="row top_tiles" id="panelTop">
			<div class="animated flipInY col-lg-3 col-md-3 col-sm-6 col-xs-12">
				<div class="panel panel-green">
					<div class="panel-heading">
						<div class="row">
							<div class="col-xs-3">
								<i class="fa fa-tasks fa-5x"></i>
							</div>
							<div class="col-xs-9 text-right">
								<div class="huge">${homeBean.numProductos}</div>
								<div>Productos</div>
							</div>
						</div>
					</div>
					<a href="/productos">
						<div class="panel-footer">
							<span class="pull-left">Ver detalles</span> <span
								class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
							<div class="clearfix"></div>
						</div>
					</a>
				</div>
			</div>
			<div class="animated flipInY col-lg-3 col-md-3 col-sm-6 col-xs-12">
				<div class="panel panel-yellow">
					<div class="panel-heading">
						<div class="row">
							<div class="col-xs-3">
								<i class="fa fa-shopping-cart fa-5x"></i>
							</div>
							<div class="col-xs-9 text-right">
								<div class="huge">${homeBean.numCompras}</div>
								<div>Compras totales</div>
							</div>
						</div>
					</div>
					<a href="/compras">
						<div class="panel-footer">
							<span class="pull-left">Ver detalles</span> <span
								class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
							<div class="clearfix"></div>
						</div>
					</a>
				</div>
			</div>
			<div class="animated flipInY col-lg-3 col-md-3 col-sm-6 col-xs-12">
				<div class="panel panel-red">
					<div class="panel-heading">
						<div class="row">
							<div class="col-xs-3">
								<i class="fa fa-cart-arrow-down fa-5x"></i>
							</div>
							<div class="col-xs-9 text-right">
								<div class="huge">${homeBean.numVentas}</div>
								<div>Ventas totales</div>
							</div>
						</div>
					</div>
					<a href="/ventas">
						<div class="panel-footer">
							<span class="pull-left">Ver detalles</span> <span
								class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
							<div class="clearfix"></div>
						</div>
					</a>
				</div>
			</div>
			<div class="animated flipInY col-lg-3 col-md-3 col-sm-6 col-xs-12">
				<div class="panel panel-primary">
					<div class="panel-heading">
						<div class="row">
							<div class="col-xs-3">
								<i class="fa fa-street-view fa-5x"></i>
							</div>
							<div class="col-xs-9 text-right">
								<div class="huge">${homeBean.numClientes}</div>
								<div>Clientes</div>
							</div>
						</div>
					</div>
					<a href="/clientes">
						<div class="panel-footer">
							<span class="pull-left">Ver detalles</span> <span
								class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
							<div class="clearfix"></div>
						</div>
					</a>
				</div>
			</div>
		</div>
		<div class="clearfix"></div>
		<div class="row">

			<div class="col-lg-8 col-xs-12">
				<p:panel id="panelClientesId"
					header="Clientes diarios de #{homeBean.usuarioAuteticado.usuario.empresa}"
					toggleable="true" closable="true" toggleSpeed="500"
					closeSpeed="500" widgetVar="panelClientes"
					style="margin-bottom:20px">
					<h:panelGrid style="width:100%">
						<p:chart type="line" responsive="true"
							model="#{homeBean.areaClientes}" style="height:300px;" />
					</h:panelGrid>

					<f:facet name="options">
						<p:menu>
							<p:submenu label="Acciones">
								<p:menuitem value="Cambiar" url="#" icon="ui-icon-newwin"
									onclick="PF('panelClientes').toggle()" />
								<p:menuitem value="Eliminar" url="#" icon="ui-icon-close"
									onclick="PF('panelClientes').close()" />
							</p:submenu>
						</p:menu>
					</f:facet>
				</p:panel>

				<p:panel id="panelVentasId"
					header="Ventas mensuales de #{homeBean.usuarioAuteticado.usuario.empresa}"
					toggleable="true" closable="true" toggleSpeed="500"
					closeSpeed="500" widgetVar="panelVentas" style="margin-bottom:20px">
					<h:panelGrid style="width:100%">
						<p:chart type="line" responsive="true"
							model="#{homeBean.areaVentas}" style="height:300px;" />
					</h:panelGrid>

					<f:facet name="options">
						<p:menu>
							<p:submenu label="Acciones">
								<p:menuitem value="Cambiar" url="#" icon="ui-icon-newwin"
									onclick="PF('panelVentas').toggle()" />
								<p:menuitem value="Eliminar" url="#" icon="ui-icon-close"
									onclick="PF('panelVentas').close()" />
							</p:submenu>
						</p:menu>
					</f:facet>
				</p:panel>

				<p:panel id="panelGastosIngresosId"
					header="Ingresos y gastos mensuales - Beneficio actual: #{homeBean.beneficio} €"
					toggleable="true" closable="true" toggleSpeed="500"
					closeSpeed="500" widgetVar="panelGastosIngresos"
					style="margin-bottom:20px">
					<h:panelGrid style="width:100%">
						<p:chart type="bar" responsive="true"
							model="#{homeBean.barGastosIngresos}" style="height:300px;" />
					</h:panelGrid>

					<f:facet name="options">
						<p:menu>
							<p:submenu label="Acciones">
								<p:menuitem value="Cambiar" url="#" icon="ui-icon-newwin"
									onclick="PF('panelGastosIngresos').toggle()" />
								<p:menuitem value="Eliminar" url="#" icon="ui-icon-close"
									onclick="PF('panelGastosIngresos').close()" />
							</p:submenu>
						</p:menu>
					</f:facet>
				</p:panel>
			</div>
			<div class="col-lg-4 col-xs-12">

				<div class="panel panel-default">
					<div class="panel-heading">
						<i class="fa fa-bell fa-fw"></i> Panel de notificaciones
					</div>
					<!-- /.panel-heading -->
					<div class="panel-body">
						<div class="list-group">
							<ui:repeat var="nov" value="#{homeBean.novedades}">
								<a href="#" class="list-group-item tamNovedades"> <h:outputText
										id="warningDose" escape="false" value="#{nov.novedad}"></h:outputText>

								</a>
							</ui:repeat>
						</div>
					</div>
				</div>
				<!-- /.panel-body -->


				<p:panel id="panelFormasPagoId"
					header="#{msg['header.graficaDonut']}" toggleable="true"
					closable="true" toggleSpeed="500" closeSpeed="500"
					widgetVar="panelDonut" style="margin-bottom:20px">
					<h:panelGrid style="width:100%">
						<p:chart type="donut" model="#{homeBean.donutFormasPago}"
							responsive="true" />
					</h:panelGrid>

					<f:facet name="options">
						<p:menu>
							<p:submenu label="Acciones">
								<p:menuitem value="Cambiar" url="#" icon="ui-icon-newwin"
									onclick="PF('panelDonut').toggle()" />
								<p:menuitem value="Eliminar" url="#" icon="ui-icon-close"
									onclick="PF('panelDonut').close()" />
							</p:submenu>
						</p:menu>
					</f:facet>
				</p:panel>

			</div>
			<div class="col-md-12">
				<p:growl id="messages" showDetail="true" />

				<h:panelGrid columnClasses="value">
					<h3 style="margin-top: 0">Calendario</h3>
					<p:schedule id="schedule" value="#{homeBean.eventModel}"
						widgetVar="myschedule">

						<p:ajax event="dateSelect" listener="#{homeBean.onDateSelect}"
							update="eventDetails" oncomplete="PF('eventDialog').show();" />
						<p:ajax event="eventSelect" listener="#{homeBean.onEventSelect}"
							update="eventDetails" oncomplete="PF('eventDialog').show();" />
						<p:ajax event="eventMove" listener="#{homeBean.onEventMove}" />
						<p:ajax event="eventResize" listener="#{homeBean.onEventResize}" />

					</p:schedule>
				</h:panelGrid>
				<p:dialog widgetVar="eventDialog" header="Detalles: "
					showEffect="clip" hideEffect="clip">
					<h:panelGrid id="eventDetails" columns="2">
						<p:outputLabel for="title" value="Título: " />
						<p:inputText id="title" value="#{homeBean.event.title}"
							required="true" />

						<p:outputLabel for="from" value="Desde: " />
						<p:calendar id="from" value="#{homeBean.event.startDate}"
							pattern="dd/MM/yyyy HH:mm" />

						<p:outputLabel for="to" value="Hasta:" />
						<p:calendar id="to" value="#{homeBean.event.endDate}"
							pattern="dd/MM/yyyy HH:mm" />

						<p:outputLabel for="allDay" value="Todo el día:" />
						<h:selectBooleanCheckbox id="allDay"
							value="#{homeBean.event.allDay}" />

						<p:commandButton type="reset" value="Reiniciar" />
						<p:commandButton id="addButton" value="Guardar"
							actionListener="#{homeBean.addEvent}"
							oncomplete="PF('myschedule').update();PF('eventDialog').hide();" />
					</h:panelGrid>
				</p:dialog>
			</div>
		</div>
	</ui:define>
</ui:composition>